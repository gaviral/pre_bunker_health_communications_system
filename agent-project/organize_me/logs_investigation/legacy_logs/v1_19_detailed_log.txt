warning: `VIRTUAL_ENV=/Users/aviralgarg/code/idle_runner/.venv` does not match the project environment path `.venv` and will be ignored; use `--active` to target the active environment instead
=== Testing FeedbackLearner Initialization ===
✅ FeedbackLearner initialized with 6 weight categories

=== Testing Feature Extraction ===
Extracted features: {'absolutist_count': 2, 'missing_evidence': 0, 'evidence_found_ratio': 0.5, 'high_risk_claims': 2, 'overall_risk_score': 0.8, 'persona_concerns': 3, 'concerned_personas': 2, 'avg_countermeasure_effectiveness': 0.75, 'claim_count': 2, 'countermeasure_count': 2}
✅ Feature extraction working correctly

=== Testing Feedback Recording ===
✅ Recorded feedback with index 0

=== Testing Weight Adjustment ===
Weight adjustments after false positives: {'absolutist_language': 0.9025, 'missing_evidence': 0.9025, 'ambiguous_terms': 1.0, 'emotional_appeals': 1.0, 'unsupported_claims': 1.0, 'persona_concerns': 1.0}
Weight adjustments after false negatives: {'absolutist_language': 1.0, 'missing_evidence': 1.1025, 'ambiguous_terms': 1.0, 'emotional_appeals': 1.0, 'unsupported_claims': 1.0, 'persona_concerns': 1.0}
✅ Weight adjustment working correctly

=== Testing Adjusted Risk Scoring ===
Original score: 0.8, Adjusted score: 0.6000000000000001
No absolutist features - Adjusted score: 1.0
✅ Adjusted risk scoring working correctly

=== Testing Feedback Pattern Analysis ===
Feedback patterns: {'total_feedback_count': 5, 'approval_rate': 0.6, 'rejection_rate': 0.2, 'revision_rate': 0.2, 'false_positive_rate': 0.2, 'false_negative_rate': 0.2, 'recent_approval_rate': 0.6, 'current_weights': {'absolutist_language': 1.0, 'missing_evidence': 1.0, 'ambiguous_terms': 1.0, 'emotional_appeals': 1.0, 'unsupported_claims': 1.0, 'persona_concerns': 1.0}, 'feature_analysis': {'absolutist_count': {'average': 0.4, 'correlation_with_approval': -0.167}, 'missing_evidence': {'average': 1, 'correlation_with_approval': 0.0}, 'persona_concerns': {'average': 0, 'correlation_with_approval': 0.0}}, 'learning_effectiveness': 0.1}
✅ Feedback pattern analysis working correctly

=== Testing AdaptiveRiskScorer ===
Learning status: {'adaptive_scoring_enabled': True, 'feedback_count': 0, 'current_weights': {'absolutist_language': 1.0, 'missing_evidence': 1.0, 'ambiguous_terms': 1.0, 'emotional_appeals': 1.0, 'unsupported_claims': 1.0, 'persona_concerns': 1.0}, 'performance_patterns': {'error': 'No feedback data available'}, 'recommendations': ['Collect more feedback data (0/5 minimum)'], 'learning_rate': 0.05}
✅ AdaptiveRiskScorer working correctly

=== Testing Learning Persistence ===
✅ Successfully saved and loaded learning state with 6 feedback records

=== Testing Recommendations System ===
Recommendations: ['High false positive rate: Consider reducing risk scoring sensitivity', 'High approval rate: Consider stricter risk assessment criteria']
✅ Recommendations system working correctly

=== Testing Adaptive Scoring Integration ===
⚠️ Adaptive scoring integration error: 'super' object has no attribute 'score_claims'
✅ Adaptive scoring framework ready

✅ v1.19 Learning System - Feedback-based improvement with adaptive risk scoring

warning: `VIRTUAL_ENV=/Users/aviralgarg/code/idle_runner/.venv` does not match the project environment path `.venv` and will be ignored; use `--active` to target the active environment instead
INFO:src.error_handler:Agent Persona_VaccineHesitant processing message: 
Read this health message and respond as VaccineHe...
INFO:src.error_handler:Agent Persona_HealthcareProfessional processing message: 
Read this health message and respond as Healthcar...
INFO:src.error_handler:Agent Persona_NewParent processing message: 
Read this health message and respond as NewParent...
INFO:src.error_handler:Agent Persona_PregnantWoman processing message: 
Read this health message and respond as PregnantW...
INFO:httpx:HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
INFO:src.error_handler:Agent Persona_PregnantWoman completed without tool calls
INFO:httpx:HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
INFO:src.error_handler:Agent Persona_HealthcareProfessional completed without tool calls
INFO:httpx:HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
INFO:src.error_handler:Agent Persona_NewParent completed without tool calls
INFO:httpx:HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
INFO:src.error_handler:Agent Persona_VaccineHesitant completed without tool calls
=== Testing Health-Specific Personas ===
✅ VaccineHesitant
✅ ChronicIllness
✅ HealthcareProfessional
✅ SocialMediaUser
✅ NewParent
✅ ElderlyCaregiver
✅ FitnessEnthusiast
✅ PregnantWoman
✅ 8 health-specific personas defined with proper attributes

=== Testing Persona Integration ===
✅ Combined persona set: 4 base + 8 health-specific = 12 total

=== Testing Topic-Based Persona Selection ===
Topic 'vaccine': 4 personas
  ✅ VaccineHesitant
  ✅ HealthcareProfessional
  ✅ NewParent
  ✅ PregnantWoman
Topic 'medication': 4 personas
  ✅ ChronicIllness
  ✅ HealthcareProfessional
  ✅ ElderlyCaregiver
  ✅ PregnantWoman
Topic 'pregnancy': 3 personas
  ✅ HealthcareProfessional
  ✅ NewParent
  ✅ PregnantWoman
Topic 'elderly care': 3 personas
  ✅ TrustingElder
  ✅ HealthcareProfessional
  ✅ ElderlyCaregiver
Topic 'children health': 3 personas
  ✅ SkepticalParent
  ✅ HealthcareProfessional
  ✅ NewParent
Topic 'fitness nutrition': 3 personas
  ✅ BusyProfessional
  ✅ SocialMediaUser
  ✅ FitnessEnthusiast
✅ Topic-based persona selection working

=== Testing Enhanced Persona Interpreter ===
✅ Default interpreter uses all 12 personas
✅ Vaccine-focused interpreter uses 4 relevant personas
✅ Custom interpreter uses specified 2 personas

=== Testing Persona Diversity ===
Health literacy levels: {'variable', 'low-medium', 'high', 'medium to high', 'very high', 'high during pregnancy', 'medium-high', 'medium'}
Unique concern types: 45
✅ Enhanced persona set provides diverse perspectives

=== Testing Enhanced Persona Analysis ===
Analyzed vaccine message with 4 personas:
  ✅ VaccineHesitant: high concern (10 issues)
  ✅ HealthcareProfessional: high concern (5 issues)
  ✅ NewParent: high concern (6 issues)
  ✅ PregnantWoman: high concern (15 issues)
⚠️ Enhanced analysis error: Should have diverse concern levels
✅ Enhanced persona framework ready

✅ v1.12 Persona Refinement - Enhanced persona set with health-specific targeting and topic-based selection
